<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Converting colors in Java | Delcastanher's Memory Allocation</title>
<meta name=keywords content="Java"><meta name=description content="How to convert RGB, CYMK, Grayscale, and binary Black and White."><meta name=author content="Ricardo Delcastanher"><link rel=canonical href=https://delcastanher.github.io/posts/converting-colors-in-java/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://delcastanher.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://delcastanher.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://delcastanher.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://delcastanher.github.io/apple-touch-icon.png><link rel=mask-icon href=https://delcastanher.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://delcastanher.github.io/posts/converting-colors-in-java/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Converting colors in Java"><meta property="og:description" content="How to convert RGB, CYMK, Grayscale, and binary Black and White."><meta property="og:type" content="article"><meta property="og:url" content="https://delcastanher.github.io/posts/converting-colors-in-java/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-07-24T22:30:55-03:00"><meta property="article:modified_time" content="2022-07-24T22:30:55-03:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Converting colors in Java"><meta name=twitter:description content="How to convert RGB, CYMK, Grayscale, and binary Black and White."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://delcastanher.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Converting colors in Java","item":"https://delcastanher.github.io/posts/converting-colors-in-java/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Converting colors in Java","name":"Converting colors in Java","description":"How to convert RGB, CYMK, Grayscale, and binary Black and White.","keywords":["Java"],"articleBody":"A digital image is a pixel matrix, with each pixel storing 32 bits of information. 8 bits for storing a number between 0 and 255 for Alpha (transparency information), 8 bits for Red, 8 for Green, and 8 for Blue. All with a value between 0 and 255. 1\nTo convert to grayscale, for each pixel, you take these Red, Green and Blue values, calculate the average, and use this average result as the value, exactly the same value, for even Red, Green and Blue. 2\nConverting to pure black and white is similar, but you use the average result to decide when to store 0 (black) if the value is greater than 127 (that is the result for 255/2) or to store 255 (white) if less than 127. 3 The result can be suboptimal, particularly if the page background is of uneven darkness. 4\nThe normalized color coordinate transformations used for the default CMYK color space are defined as follows: 5\nLinear RGB to CMYK\nK = min{1 - R, 1 - G, 1 - B} if(K != 1) { C = (1 - R - K)/(1 - K) M = (1 - G - K)/(1 - K) Y = (1 - B - K)/(1 - K) } else { C = M = Y = 0 } CMYK to linear RGB\nR = (1 - K)*(1 - C) G = (1 - K)*(1 - M) B = (1 - K)*(1 - Y) In Java, you can do all of this using ImageIO 6 or a library such as Marvin Image Processing Framework.\nhttps://dyclassroom.com/image-processing-project/how-to-get-and-set-pixel-value-in-java ↩︎\nhttps://dyclassroom.com/image-processing-project/how-to-convert-a-color-image-into-grayscale-image-in-java ↩︎\nhttps://stackoverflow.com/a/17482430 ↩︎\nhttps://tesseract-ocr.github.io/tessdoc/ImproveQuality.html#binarisation ↩︎\nhttps://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/imageio/metadata/doc-files/tiff_metadata.html#ColorSpacesRead ↩︎\nhttps://memorynotfound.com/convert-image-black-white-java/ ↩︎\n","wordCount":"270","inLanguage":"en","datePublished":"2022-07-24T22:30:55-03:00","dateModified":"2022-07-24T22:30:55-03:00","author":{"@type":"Person","name":"Ricardo Delcastanher"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://delcastanher.github.io/posts/converting-colors-in-java/"},"publisher":{"@type":"Organization","name":"Delcastanher's Memory Allocation","logo":{"@type":"ImageObject","url":"https://delcastanher.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://delcastanher.github.io/ accesskey=h title="Delcastanher's Memory Allocation (Alt + H)">Delcastanher's Memory Allocation</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Converting colors in Java</h1><div class=post-meta><span title='2022-07-24 22:30:55 -0300 -0300'>July 24, 2022</span>&nbsp;·&nbsp;Ricardo Delcastanher</div></header><div class=post-content><p>A digital image is a pixel matrix, with each pixel storing 32 bits of information. 8 bits for storing a number between 0 and 255 for Alpha (transparency information), 8 bits for Red, 8 for Green, and 8 for Blue. All with a value between 0 and 255. <sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></p><p>To convert to <strong>grayscale</strong>, for each pixel, you take these Red, Green and Blue values, calculate the average, and use this average result as the value, exactly the same value, for even Red, Green and Blue. <sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup></p><p>Converting to pure <strong>black and white</strong> is similar, but you use the average result to decide when to store 0 (black) if the value is greater than 127 (that is the result for <code>255/2</code>) or to store 255 (white) if less than 127. <sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup> The result can be suboptimal, particularly if the page background is of uneven darkness. <sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup></p><p>The normalized color coordinate transformations used for the default CMYK color space are defined as follows: <sup id=fnref:5><a href=#fn:5 class=footnote-ref role=doc-noteref>5</a></sup></p><p><strong>Linear RGB to CMYK</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Mathematica data-lang=Mathematica><span style=display:flex><span>K <span style=color:#f92672>=</span> min{<span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> R, <span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> G, <span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> B}
</span></span><span style=display:flex><span>if(K <span style=color:#f92672>!=</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>    C <span style=color:#f92672>=</span> (<span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> R <span style=color:#f92672>-</span> K)<span style=color:#f92672>/</span>(<span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> K)
</span></span><span style=display:flex><span>    M <span style=color:#f92672>=</span> (<span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> G <span style=color:#f92672>-</span> K)<span style=color:#f92672>/</span>(<span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> K)
</span></span><span style=display:flex><span>    Y <span style=color:#f92672>=</span> (<span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> B <span style=color:#f92672>-</span> K)<span style=color:#f92672>/</span>(<span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> K)
</span></span><span style=display:flex><span>} else {
</span></span><span style=display:flex><span>    C <span style=color:#f92672>=</span> M <span style=color:#f92672>=</span> Y <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><strong>CMYK to linear RGB</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Mathematica data-lang=Mathematica><span style=display:flex><span>R <span style=color:#f92672>=</span> (<span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> K)<span style=color:#f92672>*</span>(<span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> C)
</span></span><span style=display:flex><span>G <span style=color:#f92672>=</span> (<span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> K)<span style=color:#f92672>*</span>(<span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> M)
</span></span><span style=display:flex><span>B <span style=color:#f92672>=</span> (<span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> K)<span style=color:#f92672>*</span>(<span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> Y)
</span></span></code></pre></div><p><strong>In Java</strong>, you can do all of this using <code>ImageIO</code> <sup id=fnref:6><a href=#fn:6 class=footnote-ref role=doc-noteref>6</a></sup> or a library such as <a href=http://marvinproject.sourceforge.net/en/index.html>Marvin Image Processing Framework</a>.</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://dyclassroom.com/image-processing-project/how-to-get-and-set-pixel-value-in-java>https://dyclassroom.com/image-processing-project/how-to-get-and-set-pixel-value-in-java</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p><a href=https://dyclassroom.com/image-processing-project/how-to-convert-a-color-image-into-grayscale-image-in-java>https://dyclassroom.com/image-processing-project/how-to-convert-a-color-image-into-grayscale-image-in-java</a>&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p><a href=https://stackoverflow.com/a/17482430>https://stackoverflow.com/a/17482430</a>&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4><p><a href=https://tesseract-ocr.github.io/tessdoc/ImproveQuality.html#binarisation>https://tesseract-ocr.github.io/tessdoc/ImproveQuality.html#binarisation</a>&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:5><p><a href=https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/imageio/metadata/doc-files/tiff_metadata.html#ColorSpacesRead>https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/imageio/metadata/doc-files/tiff_metadata.html#ColorSpacesRead</a>&#160;<a href=#fnref:5 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:6><p><a href=https://memorynotfound.com/convert-image-black-white-java/>https://memorynotfound.com/convert-image-black-white-java/</a>&#160;<a href=#fnref:6 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://delcastanher.github.io/tags/java/>Java</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://delcastanher.github.io/>Delcastanher's Memory Allocation</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>