<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>ImageMagick and Java | Delcastanher's Memory Allocation</title>
<meta name=keywords content="Java"><meta name=description content="It could be as easy or as complicated as you wish."><meta name=author content="Ricardo Delcastanher"><link rel=canonical href=https://delcastanher.github.io/posts/imagemagick-and-java/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://delcastanher.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://delcastanher.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://delcastanher.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://delcastanher.github.io/apple-touch-icon.png><link rel=mask-icon href=https://delcastanher.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://delcastanher.github.io/posts/imagemagick-and-java/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="ImageMagick and Java"><meta property="og:description" content="It could be as easy or as complicated as you wish."><meta property="og:type" content="article"><meta property="og:url" content="https://delcastanher.github.io/posts/imagemagick-and-java/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-01-05T09:18:52-03:00"><meta property="article:modified_time" content="2023-01-05T09:18:52-03:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="ImageMagick and Java"><meta name=twitter:description content="It could be as easy or as complicated as you wish."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://delcastanher.github.io/posts/"},{"@type":"ListItem","position":2,"name":"ImageMagick and Java","item":"https://delcastanher.github.io/posts/imagemagick-and-java/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"ImageMagick and Java","name":"ImageMagick and Java","description":"It could be as easy or as complicated as you wish.","keywords":["Java"],"articleBody":"ImageMagick’s official documentation suggests two libraries to work with Java.\nJMagick Jmagick looked promising. It provides an object-oriented Java interface to ImageMagick. 1\nBut the linked website is down, and the Maven package has almost no usage 2, and it is challenging to find any documentation or example. When you find it, it depends on many operational system specific files scattered in different directories. 3 If you could make it work on your development machine 4, you would have difficulty making it work on the production machine.\nim4java To use im4java, you only need ImageMagick installed on the host machine. im4java generates the command line for the ImageMagick commands and passes the generated line to the selected IM-command (using the java.lang.ProcessBuilder.start() method). 5\nTo use im4java Install ImageMagick on your machine Add im4java Maven dependency Now a command line like this:\nconvert myimage.jpg -resize 800x600 myimage_small.jpg Could be written in Java like this: 6\n// create command ConvertCmd cmd = new ConvertCmd(); // create the operation, add images and operators/options IMOperation op = new IMOperation(); op.addImage(\"myimage.jpg\"); op.resize(800,600); op.addImage(\"myimage_small.jpg\"); // execute the operation cmd.run(op); It could be helpful when reusing code and working with conditionals. It also makes it easy to understand complex command line tasks.\nhttps://imagemagick.org/script/develop.php ↩︎\nhttps://mvnrepository.com/artifact/jmagick/jmagick ↩︎\nhttps://www.roseindia.net/jmagick/index.shtml ↩︎\nhttps://github.com/techblue/jmagick ↩︎\nhttps://im4java.sourceforge.net/index.html ↩︎\nhttps://im4java.sourceforge.net/docs/dev-guide.html ↩︎\n","wordCount":"211","inLanguage":"en","datePublished":"2023-01-05T09:18:52-03:00","dateModified":"2023-01-05T09:18:52-03:00","author":{"@type":"Person","name":"Ricardo Delcastanher"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://delcastanher.github.io/posts/imagemagick-and-java/"},"publisher":{"@type":"Organization","name":"Delcastanher's Memory Allocation","logo":{"@type":"ImageObject","url":"https://delcastanher.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://delcastanher.github.io/ accesskey=h title="Delcastanher's Memory Allocation (Alt + H)">Delcastanher's Memory Allocation</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">ImageMagick and Java</h1><div class=post-meta><span title='2023-01-05 09:18:52 -0300 -0300'>January 5, 2023</span>&nbsp;·&nbsp;Ricardo Delcastanher</div></header><div class=post-content><p><a href=https://imagemagick.org/script/develop.php>ImageMagick&rsquo;s official documentation</a> suggests two libraries to work with Java.</p><h2 id=jmagick>JMagick<a hidden class=anchor aria-hidden=true href=#jmagick>#</a></h2><p>Jmagick looked promising. It <em>provides an object-oriented Java interface to ImageMagick</em>. <sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></p><p>But the linked website is down, and the Maven package has almost no usage <sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>, and it is challenging to find any documentation or example. When you find it, it depends on many operational system specific files scattered in different directories. <sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup> If you could make it work on your development machine <sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup>, you would have difficulty making it work on the production machine.</p><h2 id=im4java>im4java<a hidden class=anchor aria-hidden=true href=#im4java>#</a></h2><p>To use im4java, you only need ImageMagick installed on the host machine. im4java <em>generates the command line for the ImageMagick commands and passes the generated line to the selected IM-command (using the <code>java.lang.ProcessBuilder.start()</code> method)</em>. <sup id=fnref:5><a href=#fn:5 class=footnote-ref role=doc-noteref>5</a></sup></p><h3 id=to-use-im4java>To use im4java<a hidden class=anchor aria-hidden=true href=#to-use-im4java>#</a></h3><ul><li><a href=https://imagemagick.org/script/download.php>Install ImageMagick on your machine</a></li><li><a href=https://mvnrepository.com/artifact/org.im4java/im4java>Add im4java Maven dependency</a></li></ul><p>Now a command line like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>convert myimage.jpg -resize 800x600 myimage_small.jpg 
</span></span></code></pre></div><p>Could be written in Java like this: <sup id=fnref:6><a href=#fn:6 class=footnote-ref role=doc-noteref>6</a></sup></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#75715e>// create command</span>
</span></span><span style=display:flex><span>ConvertCmd cmd <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ConvertCmd();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// create the operation, add images and operators/options</span>
</span></span><span style=display:flex><span>IMOperation op <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> IMOperation();
</span></span><span style=display:flex><span>op.<span style=color:#a6e22e>addImage</span>(<span style=color:#e6db74>&#34;myimage.jpg&#34;</span>);
</span></span><span style=display:flex><span>op.<span style=color:#a6e22e>resize</span>(800,600);
</span></span><span style=display:flex><span>op.<span style=color:#a6e22e>addImage</span>(<span style=color:#e6db74>&#34;myimage_small.jpg&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// execute the operation</span>
</span></span><span style=display:flex><span>cmd.<span style=color:#a6e22e>run</span>(op);
</span></span></code></pre></div><p>It could be helpful when reusing code and working with conditionals. It also makes it easy to understand complex command line tasks.</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://imagemagick.org/script/develop.php>https://imagemagick.org/script/develop.php</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p><a href=https://mvnrepository.com/artifact/jmagick/jmagick>https://mvnrepository.com/artifact/jmagick/jmagick</a>&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p><a href=https://www.roseindia.net/jmagick/index.shtml>https://www.roseindia.net/jmagick/index.shtml</a>&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4><p><a href=https://github.com/techblue/jmagick>https://github.com/techblue/jmagick</a>&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:5><p><a href=https://im4java.sourceforge.net/index.html>https://im4java.sourceforge.net/index.html</a>&#160;<a href=#fnref:5 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:6><p><a href=https://im4java.sourceforge.net/docs/dev-guide.html>https://im4java.sourceforge.net/docs/dev-guide.html</a>&#160;<a href=#fnref:6 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://delcastanher.github.io/tags/java/>Java</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://delcastanher.github.io/>Delcastanher's Memory Allocation</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>